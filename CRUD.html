<html>

<body>
	<p>Descrição: quero que você remova esse item na lista e veja no console log o quarto item ser impresso </p>

	<input type="text" id="nomePessoaId" /> Nome </br>
	<input type="text" id="idadePessoaId" /> Idade </br>
	<input type="button" value="Adicionar Pessoa" onclick="adicionarPessoa()"> </br>
	<input type="button" value="Alterar Pessoa" onclick="alterarPessoa()"> </br>


	</br>
	<input type="text" id="pessoaParaRemoverId" value="1" /></br>
	<input type="button" value="Remover Pessoa" onclick="removerPessoa()"> </br>

	<p> Imprimir a variável pessoasArray aqui nos LI ´s</p>
	<input type="button" value="Limpar lista" onclick="limparUl()"> </br>
	<ul id="listaPessoas">

	</ul>

	<script>

		// document.getElementById("listaPessoas").children.length 
		// iterar por isso e depois 
		// document.getElementById("listaPessoas").children[index].remove()

		var pessoasArray = [
			{ nome: "Rafael", idade: 34 }
		];

		var adicionarPessoa = function () {
			var nomePessoa = document.getElementById("nomePessoaId").value;
			var idadePessoa = document.getElementById("idadePessoaId").value;
			var pessoaSalva = { nome: nomePessoa, idade: idadePessoa };

			pessoasArray.push(pessoaSalva);

			carregarLista();
			imprimirArray();
			alert(1);
		}

		var alterarPessoa = function () {
			var nomePessoa = document.getElementById("nomePessoaId").value;
			var idadePessoa = document.getElementById("idadePessoaId").value;
			var pessoaSalva = { nome: nomePessoa, idade: idadePessoa };

			for (i = 0; i < pessoasArray.length; i++) {

				if (pessoasArray[i].nome == nomePessoa) {

					pessoasArray[i].idade = idadePessoa;

				}
			}
			carregarLista();
			imprimirArray();
			alert(2);
		}

		var removerPessoa = function () {
			var retirarPessoa = document.getElementById("pessoaParaRemoverId");
			pessoasArray.splice(retirarPessoa, 1);

			imprimirArray();
			alert(3);
		}

		var limparUl = function () {
			var elementoUl = document.getElementById("listaPessoas");
			var tamanhoLista = elementoUl.children.length;
			for (i = tamanhoLista - 1; i >= 0; i--) {
				elementoUl.children[i].remove();
			}
			console.log("lista", tamanhoLista);
		}



		var carregarLista = function () {
			var ulElement = document.getElementById("listaPessoas");
			for (i = 0; i < pessoasArray.length; i++) {
				var liElement = document.createElement("li")
				var textNode = document.createTextNode(' nome: ' + pessoasArray[i].nome + ', idade: ' + pessoasArray[i].idade);
				liElement.appendChild(textNode);
				ulElement.appendChild(liElement);
			}

			imprimirArray();

		}

		/*
			Comandos:
			document.getElementById("id")
			array.splice(index, 1)
			
			Para imprimir o array, eh para usar a estrutura comentada dentro do <UL>
		*/

		var imprimirArray = function () {
			console.log("Imprimindo pessoas:");
			for (var i = 0; i < pessoasArray.length; i++) {
				console.log("ObjetoLiteral", JSON.stringify(pessoasArray[i]));
			}
		}

	</script>
</body>

</html>